# Hardhat Sample

This is a base repo that's meant to be forked to create contracts.

## Structure:

-   `contracts` is the main entrypoint for creating new contracts
-   `contract-types` is autogenerated JS contract client from `contracts` using typechain
-   `scripts` currently just has a `deploy.ts` script, but can have more helper and deploy-styled scripts - `deploy.ts` manages deploying all the contracts specified in an array by name - Also uses a Registry contract to save contract addresses/names - Writes out address/name mappings into the `contractAddresses.json` file after generation. This should help with documentation - Registry reads a regstry address from `.env` file to avoid creating a new one each time. `local.env` is the env associated with `local-deploy`.
    `lib` is where typescript compiles all the contract clients and creates typings for them.

\*\* This has to be extended to allow testnet and mainnet connections

## How to use for contract development:

-   Fork
-   Remove registry address from `local.env`
-   Change the name in `package.json`
-   Run `npm init`
-   Run `npx hardhat clean` just in case
-   Run `npx hardhat node` to create a local node
-   Run `npm run local-deploy` to compile contracts, compile typescript, deploy to the local node
    -   Save the Registry address that's output and save it to `local.env`
    -   Note that you'll have to erase it from `local.env` every time you restart the local node
-   Take a look at `package.json` to see the build/compile commands useful for development

## How to use for contract clients:

You can, of course, write Node logic directly in here. However, for separation of concerns, I prefer to create one library-style project
for Solidity contracts, and a separate one for any additional FE/BE logic. This project sample makes it easy:

-   Deploy it to npm or github packages,
-   Fork [https://github.com/msherer95/contract-use-samples](this sample project) into a separate project
-   `cd` into the project above and `npm install`
-   The rest is explained in the project above
